<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>h3H</title>
    <style>
      :root {
        --light-grey-75: #e9ebed;
        --light-grey-100: #d9dde0;
        --light-grey-600: #61727e;
        --light-red-600: #e10103;
        --light-orange-600: #ac5908;
        --light-yellow-600: #8b6b02;
        --light-green-600: #078203;
        --light-teal-600: #047c7d;
        --light-blue-600: #0071d8;
        --light-purple-600: #894ae9;
        --light-magenta-600: #be3e81;

        --bg-main: var(--light-grey-75);
        --bg-card: var(--light-grey-100);
      }
      * {
        font-family: sans-serif;
      }
      div,
      table,
      td {
        border: 1px solid black;
      }
      .level2 {
        margin-left: 20px;
      }
      .level3 {
        margin-left: 40px;
      }
      .level4 {
        margin-left: 60px;
      }
      .level5 {
        margin-left: 80px;
      }
    </style>
  </head>
  <body>
    <div id="output"></div>
    <script src="request.js"></script>
    <script>
      // console.log(data);

      let {
        biggest,
        cards,
        clean_sheet,
        failed_to_score,
        fixtures,
        form,
        goals,
        league,
        lineups,
        penalty,
        team
      } = data[0].response;
      console.log(biggest);

      const recursiveIt = (target, level = 1) => {
        const output = document.getElementById('output');
        for (const prop in target) {
          let row = document.createElement('div');
          row.className = `level${level}`;
          row.innerHTML = `${prop}`;
          output.appendChild(row);
          if (typeof target[prop] == 'object') {
            recursiveIt(target[prop], level + 1);
          } else {
            let row = document.createElement('div');
            row.className = `level${level}`;
            row.innerHTML = `${target[prop]}`;
            output.appendChild(row);
          }
        }
      };

      recursiveIt(data[0].response);

      // const frag = document.createDocumentFragment();
      // createTree(frag, data[0].response);
      // document.getElementById('output').appendChild(frag);

      // const template = document.getElementById('my-template');
      // document.addEventListener('DOMContentLoaded', () => {
      //   let match = template.content.querySelector('.wrapper');
      //   data.forEach((el) => {
      //     let a = document.importNode(match, true);
      //     a.querySelector('.team').innerText = `${el.response.team.name}`;
      //     a.querySelector(
      //       '.league'
      //     ).innerText = `${el.response.league.name} - ${el.response.league.country} - ${el.response.league.season}`;
      //     a.querySelector('.form').innerText = `${el.response.form}`;
      //     document.getElementById('output').appendChild(a);
      //   });
      // });
    </script>
  </body>
</html>
